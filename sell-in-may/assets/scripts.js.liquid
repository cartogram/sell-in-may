(function(){function n(n,t,e){for(var r=(e||0)-1,o=n?n.length:0;++r<o;)if(n[r]===t)return r;return-1}function t(t,e){var r=typeof e;if(t=t.cache,"boolean"==r||null==e)return t[e]?0:-1;"number"!=r&&"string"!=r&&(r="object");var o="number"==r?e:m+e;return t=(t=t[r])&&t[o],"object"==r?t&&n(t,e)>-1?0:-1:t?0:-1}function e(n){var t=this.cache,e=typeof n;if("boolean"==e||null==n)t[n]=!0;else{"number"!=e&&"string"!=e&&(e="object");var r="number"==e?n:m+n,o=t[e]||(t[e]={});"object"==e?(o[r]||(o[r]=[])).push(n):o[r]=!0}}function r(n){return n.charCodeAt(0)}function o(n,t){for(var e=n.criteria,r=t.criteria,o=-1,i=e.length;++o<i;){var a=e[o],u=r[o];if(a!==u){if(a>u||"undefined"==typeof a)return 1;if(u>a||"undefined"==typeof u)return-1}}return n.index-t.index}function i(n){var t=-1,r=n.length,o=n[0],i=n[r/2|0],a=n[r-1];if(o&&"object"==typeof o&&i&&"object"==typeof i&&a&&"object"==typeof a)return!1;var u=l();u["false"]=u["null"]=u["true"]=u.undefined=!1;var c=l();for(c.array=n,c.cache=u,c.push=e;++t<r;)c.push(n[t]);return c}function a(n){return"\\"+V[n]}function u(){return d.pop()||[]}function l(){return g.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function c(n){n.length=0,d.length<b&&d.push(n)}function f(n){var t=n.cache;t&&f(t),n.array=n.cache=n.criteria=n.object=n.number=n.string=n.value=null,g.length<b&&g.push(n)}function s(n,t,e){t||(t=0),"undefined"==typeof e&&(e=n?n.length:0);for(var r=-1,o=e-t||0,i=Array(0>o?0:o);++r<o;)i[r]=n[t+r];return i}function p(e){function d(n){return n&&"object"==typeof n&&!Xr(n)&&Tr.call(n,"__wrapped__")?n:new g(n)}function g(n,t){this.__chain__=!!t,this.__wrapped__=n}function b(n){function t(){if(r){var n=s(r);Rr.apply(n,arguments)}if(this instanceof t){var i=Y(e.prototype),a=e.apply(i,n||arguments);return Ot(a)?a:i}return e.apply(o,n||arguments)}var e=n[0],r=n[2],o=n[4];return Jr(t,n),t}function V(n,t,e,r,o){if(e){var i=e(n);if("undefined"!=typeof i)return i}var a=Ot(n);if(!a)return n;var l=Ar.call(n);if(!q[l])return n;var f=Kr[l];switch(l){case B:case D:return new f(+n);case N:case H:return new f(n);case P:return i=f(n.source,C.exec(n)),i.lastIndex=n.lastIndex,i}var p=Xr(n);if(t){var h=!r;r||(r=u()),o||(o=u());for(var d=r.length;d--;)if(r[d]==n)return o[d];i=p?f(n.length):{}}else i=p?s(n):oo({},n);return p&&(Tr.call(n,"index")&&(i.index=n.index),Tr.call(n,"input")&&(i.input=n.input)),t?(r.push(n),o.push(i),(p?Jt:uo)(n,function(n,a){i[a]=V(n,t,e,r,o)}),h&&(c(r),c(o)),i):i}function Y(n){return Ot(n)?Nr(n):{}}function J(n,t,e){if("function"!=typeof n)return Xe;if("undefined"==typeof t||!("prototype"in n))return n;var r=n.__bindData__;if("undefined"==typeof r&&(Yr.funcNames&&(r=!n.name),r=r||!Yr.funcDecomp,!r)){var o=Er.call(n);Yr.funcNames||(r=!A.test(o)),r||(r=O.test(o),Jr(n,r))}if(r===!1||r!==!0&&1&r[1])return n;switch(e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,o){return n.call(t,e,r,o)};case 4:return function(e,r,o,i){return n.call(t,e,r,o,i)}}return Re(n,t)}function X(n){function t(){var n=l?a:this;if(o){var d=s(o);Rr.apply(d,arguments)}if((i||f)&&(d||(d=s(arguments)),i&&Rr.apply(d,i),f&&d.length<u))return r|=16,X([e,p?r:-4&r,d,null,a,u]);if(d||(d=arguments),c&&(e=n[h]),this instanceof t){n=Y(e.prototype);var g=e.apply(n,d);return Ot(g)?g:n}return e.apply(n,d)}var e=n[0],r=n[1],o=n[2],i=n[3],a=n[4],u=n[5],l=1&r,c=2&r,f=4&r,p=8&r,h=e;return Jr(t,n),t}function Z(e,r){var o=-1,a=lt(),u=e?e.length:0,l=u>=y&&a===n,c=[];if(l){var s=i(r);s?(a=t,r=s):l=!1}for(;++o<u;){var p=e[o];a(r,p)<0&&c.push(p)}return l&&f(r),c}function nt(n,t,e,r){for(var o=(r||0)-1,i=n?n.length:0,a=[];++o<i;){var u=n[o];if(u&&"object"==typeof u&&"number"==typeof u.length&&(Xr(u)||pt(u))){t||(u=nt(u,t,e));var l=-1,c=u.length,f=a.length;for(a.length+=c;++l<c;)a[f++]=u[l]}else e||a.push(u)}return a}function tt(n,t,e,r,o,i){if(e){var a=e(n,t);if("undefined"!=typeof a)return!!a}if(n===t)return 0!==n||1/n==1/t;var l=typeof n,f=typeof t;if(!(n!==n||n&&U[l]||t&&U[f]))return!1;if(null==n||null==t)return n===t;var s=Ar.call(n),p=Ar.call(t);if(s==R&&(s=L),p==R&&(p=L),s!=p)return!1;switch(s){case B:case D:return+n==+t;case N:return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case P:case H:return n==_r(t)}var h=s==W;if(!h){var d=Tr.call(n,"__wrapped__"),g=Tr.call(t,"__wrapped__");if(d||g)return tt(d?n.__wrapped__:n,g?t.__wrapped__:t,e,r,o,i);if(s!=L)return!1;var v=n.constructor,m=t.constructor;if(v!=m&&!(zt(v)&&v instanceof v&&zt(m)&&m instanceof m)&&"constructor"in n&&"constructor"in t)return!1}var y=!o;o||(o=u()),i||(i=u());for(var b=o.length;b--;)if(o[b]==n)return i[b]==t;var w=0;if(a=!0,o.push(n),i.push(t),h){if(b=n.length,w=t.length,a=w==b,a||r)for(;w--;){var _=b,k=t[w];if(r)for(;_--&&!(a=tt(n[_],k,e,r,o,i)););else if(!(a=tt(n[w],k,e,r,o,i)))break}}else ao(t,function(t,u,l){return Tr.call(l,u)?(w++,a=Tr.call(n,u)&&tt(n[u],t,e,r,o,i)):void 0}),a&&!r&&ao(n,function(n,t,e){return Tr.call(e,t)?a=--w>-1:void 0});return o.pop(),i.pop(),y&&(c(o),c(i)),a}function et(n,t,e,r,o){(Xr(t)?Jt:uo)(t,function(t,i){var a,u,l=t,c=n[i];if(t&&((u=Xr(t))||lo(t))){for(var f=r.length;f--;)if(a=r[f]==t){c=o[f];break}if(!a){var s;e&&(l=e(c,t),(s="undefined"!=typeof l)&&(c=l)),s||(c=u?Xr(c)?c:[]:lo(c)?c:{}),r.push(t),o.push(c),s||et(c,t,e,r,o)}}else e&&(l=e(c,t),"undefined"==typeof l&&(l=t)),"undefined"!=typeof l&&(c=l);n[i]=c})}function rt(n,t){return n+Or(Vr()*(t-n+1))}function ot(e,r,o){var a=-1,l=lt(),s=e?e.length:0,p=[],h=!r&&s>=y&&l===n,d=o||h?u():p;if(h){var g=i(d);l=t,d=g}for(;++a<s;){var v=e[a],m=o?o(v,a,e):v;(r?!a||d[d.length-1]!==m:l(d,m)<0)&&((o||h)&&d.push(m),p.push(v))}return h?(c(d.array),f(d)):o&&c(d),p}function it(n){return function(t,e,r){var o={};e=d.createCallback(e,r,3);var i=-1,a=t?t.length:0;if("number"==typeof a)for(;++i<a;){var u=t[i];n(o,u,e(u,i,t),t)}else uo(t,function(t,r,i){n(o,t,e(t,r,i),i)});return o}}function at(n,t,e,r,o,i){var a=1&t,u=2&t,l=4&t,c=16&t,f=32&t;if(!u&&!zt(n))throw new kr;c&&!e.length&&(t&=-17,c=e=!1),f&&!r.length&&(t&=-33,f=r=!1);var p=n&&n.__bindData__;if(p&&p!==!0)return p=s(p),p[2]&&(p[2]=s(p[2])),p[3]&&(p[3]=s(p[3])),!a||1&p[1]||(p[4]=o),!a&&1&p[1]&&(t|=8),!l||4&p[1]||(p[5]=i),c&&Rr.apply(p[2]||(p[2]=[]),e),f&&Dr.apply(p[3]||(p[3]=[]),r),p[1]|=t,at.apply(null,p);var h=1==t||17===t?b:X;return h([n,t,e,r,o,i])}function ut(n){return no[n]}function lt(){var t=(t=d.indexOf)===me?n:t;return t}function ct(n){return"function"==typeof n&&jr.test(n)}function ft(n){var t,e;return n&&Ar.call(n)==L&&(t=n.constructor,!zt(t)||t instanceof t)?(ao(n,function(n,t){e=t}),"undefined"==typeof e||Tr.call(n,e)):!1}function st(n){return to[n]}function pt(n){return n&&"object"==typeof n&&"number"==typeof n.length&&Ar.call(n)==R||!1}function ht(n,t,e,r){return"boolean"!=typeof t&&null!=t&&(r=e,e=t,t=!1),V(n,t,"function"==typeof e&&J(e,r,1))}function dt(n,t,e){return V(n,!0,"function"==typeof t&&J(t,e,1))}function gt(n,t){var e=Y(n);return t?oo(e,t):e}function vt(n,t,e){var r;return t=d.createCallback(t,e,3),uo(n,function(n,e,o){return t(n,e,o)?(r=e,!1):void 0}),r}function mt(n,t,e){var r;return t=d.createCallback(t,e,3),bt(n,function(n,e,o){return t(n,e,o)?(r=e,!1):void 0}),r}function yt(n,t,e){var r=[];ao(n,function(n,t){r.push(t,n)});var o=r.length;for(t=J(t,e,3);o--&&t(r[o--],r[o],n)!==!1;);return n}function bt(n,t,e){var r=Gr(n),o=r.length;for(t=J(t,e,3);o--;){var i=r[o];if(t(n[i],i,n)===!1)break}return n}function wt(n){var t=[];return ao(n,function(n,e){zt(n)&&t.push(e)}),t.sort()}function _t(n,t){return n?Tr.call(n,t):!1}function kt(n){for(var t=-1,e=Gr(n),r=e.length,o={};++t<r;){var i=e[t];o[n[i]]=i}return o}function xt(n){return n===!0||n===!1||n&&"object"==typeof n&&Ar.call(n)==B||!1}function St(n){return n&&"object"==typeof n&&Ar.call(n)==D||!1}function Ct(n){return n&&1===n.nodeType||!1}function At(n){var t=!0;if(!n)return t;var e=Ar.call(n),r=n.length;return e==W||e==H||e==R||e==L&&"number"==typeof r&&zt(n.splice)?!r:(uo(n,function(){return t=!1}),t)}function jt(n,t,e,r){return tt(n,t,"function"==typeof e&&J(e,r,2))}function $t(n){return Pr(n)&&!Hr(parseFloat(n))}function zt(n){return"function"==typeof n}function Ot(n){return!(!n||!U[typeof n])}function Et(n){return Tt(n)&&n!=+n}function It(n){return null===n}function Tt(n){return"number"==typeof n||n&&"object"==typeof n&&Ar.call(n)==N||!1}function Rt(n){return n&&"object"==typeof n&&Ar.call(n)==P||!1}function Wt(n){return"string"==typeof n||n&&"object"==typeof n&&Ar.call(n)==H||!1}function Bt(n){return"undefined"==typeof n}function Dt(n,t,e){var r={};return t=d.createCallback(t,e,3),uo(n,function(n,e,o){r[e]=t(n,e,o)}),r}function Ft(n){var t=arguments,e=2;if(!Ot(n))return n;if("number"!=typeof t[2]&&(e=t.length),e>3&&"function"==typeof t[e-2])var r=J(t[--e-1],t[e--],2);else e>2&&"function"==typeof t[e-1]&&(r=t[--e]);for(var o=s(arguments,1,e),i=-1,a=u(),l=u();++i<e;)et(n,o[i],r,a,l);return c(a),c(l),n}function Nt(n,t,e){var r={};if("function"!=typeof t){var o=[];ao(n,function(n,t){o.push(t)}),o=Z(o,nt(arguments,!0,!1,1));for(var i=-1,a=o.length;++i<a;){var u=o[i];r[u]=n[u]}}else t=d.createCallback(t,e,3),ao(n,function(n,e,o){t(n,e,o)||(r[e]=n)});return r}function Lt(n){for(var t=-1,e=Gr(n),r=e.length,o=hr(r);++t<r;){var i=e[t];o[t]=[i,n[i]]}return o}function Pt(n,t,e){var r={};if("function"!=typeof t)for(var o=-1,i=nt(arguments,!0,!1,1),a=Ot(n)?i.length:0;++o<a;){var u=i[o];u in n&&(r[u]=n[u])}else t=d.createCallback(t,e,3),ao(n,function(n,e,o){t(n,e,o)&&(r[e]=n)});return r}function Ht(n,t,e,r){var o=Xr(n);if(null==e)if(o)e=[];else{var i=n&&n.constructor,a=i&&i.prototype;e=Y(a)}return t&&(t=d.createCallback(t,r,4),(o?Jt:uo)(n,function(n,r,o){return t(e,n,r,o)})),e}function qt(n){for(var t=-1,e=Gr(n),r=e.length,o=hr(r);++t<r;)o[t]=n[e[t]];return o}function Mt(n){for(var t=arguments,e=-1,r=nt(t,!0,!1,1),o=t[2]&&t[2][t[1]]===n?1:r.length,i=hr(o);++e<o;)i[e]=n[r[e]];return i}function Qt(n,t,e){var r=-1,o=lt(),i=n?n.length:0,a=!1;return e=(0>e?Mr(0,i+e):e)||0,Xr(n)?a=o(n,t,e)>-1:"number"==typeof i?a=(Wt(n)?n.indexOf(t,e):o(n,t,e))>-1:uo(n,function(n){return++r>=e?!(a=n===t):void 0}),a}function Ut(n,t,e){var r=!0;t=d.createCallback(t,e,3);var o=-1,i=n?n.length:0;if("number"==typeof i)for(;++o<i&&(r=!!t(n[o],o,n)););else uo(n,function(n,e,o){return r=!!t(n,e,o)});return r}function Vt(n,t,e){var r=[];t=d.createCallback(t,e,3);var o=-1,i=n?n.length:0;if("number"==typeof i)for(;++o<i;){var a=n[o];t(a,o,n)&&r.push(a)}else uo(n,function(n,e,o){t(n,e,o)&&r.push(n)});return r}function Kt(n,t,e){t=d.createCallback(t,e,3);var r=-1,o=n?n.length:0;if("number"!=typeof o){var i;return uo(n,function(n,e,r){return t(n,e,r)?(i=n,!1):void 0}),i}for(;++r<o;){var a=n[r];if(t(a,r,n))return a}}function Yt(n,t,e){var r;return t=d.createCallback(t,e,3),Xt(n,function(n,e,o){return t(n,e,o)?(r=n,!1):void 0}),r}function Jt(n,t,e){var r=-1,o=n?n.length:0;if(t=t&&"undefined"==typeof e?t:J(t,e,3),"number"==typeof o)for(;++r<o&&t(n[r],r,n)!==!1;);else uo(n,t);return n}function Xt(n,t,e){var r=n?n.length:0;if(t=t&&"undefined"==typeof e?t:J(t,e,3),"number"==typeof r)for(;r--&&t(n[r],r,n)!==!1;);else{var o=Gr(n);r=o.length,uo(n,function(n,e,i){return e=o?o[--r]:--r,t(i[e],e,i)})}return n}function Zt(n,t){var e=s(arguments,2),r=-1,o="function"==typeof t,i=n?n.length:0,a=hr("number"==typeof i?i:0);return Jt(n,function(n){a[++r]=(o?t:n[t]).apply(n,e)}),a}function Gt(n,t,e){var r=-1,o=n?n.length:0;if(t=d.createCallback(t,e,3),"number"==typeof o)for(var i=hr(o);++r<o;)i[r]=t(n[r],r,n);else i=[],uo(n,function(n,e,o){i[++r]=t(n,e,o)});return i}function ne(n,t,e){var o=-1/0,i=o;if("function"!=typeof t&&e&&e[t]===n&&(t=null),null==t&&Xr(n))for(var a=-1,u=n.length;++a<u;){var l=n[a];l>i&&(i=l)}else t=null==t&&Wt(n)?r:d.createCallback(t,e,3),Jt(n,function(n,e,r){var a=t(n,e,r);a>o&&(o=a,i=n)});return i}function te(n,t,e){var o=1/0,i=o;if("function"!=typeof t&&e&&e[t]===n&&(t=null),null==t&&Xr(n))for(var a=-1,u=n.length;++a<u;){var l=n[a];i>l&&(i=l)}else t=null==t&&Wt(n)?r:d.createCallback(t,e,3),Jt(n,function(n,e,r){var a=t(n,e,r);o>a&&(o=a,i=n)});return i}function ee(n,t,e,r){if(!n)return e;var o=arguments.length<3;t=d.createCallback(t,r,4);var i=-1,a=n.length;if("number"==typeof a)for(o&&(e=n[++i]);++i<a;)e=t(e,n[i],i,n);else uo(n,function(n,r,i){e=o?(o=!1,n):t(e,n,r,i)});return e}function re(n,t,e,r){var o=arguments.length<3;return t=d.createCallback(t,r,4),Xt(n,function(n,r,i){e=o?(o=!1,n):t(e,n,r,i)}),e}function oe(n,t,e){return t=d.createCallback(t,e,3),Vt(n,function(n,e,r){return!t(n,e,r)})}function ie(n,t,e){if(n&&"number"!=typeof n.length&&(n=qt(n)),null==t||e)return n?n[rt(0,n.length-1)]:h;var r=ae(n);return r.length=Qr(Mr(0,t),r.length),r}function ae(n){var t=-1,e=n?n.length:0,r=hr("number"==typeof e?e:0);return Jt(n,function(n){var e=rt(0,++t);r[t]=r[e],r[e]=n}),r}function ue(n){var t=n?n.length:0;return"number"==typeof t?t:Gr(n).length}function le(n,t,e){var r;t=d.createCallback(t,e,3);var o=-1,i=n?n.length:0;if("number"==typeof i)for(;++o<i&&!(r=t(n[o],o,n)););else uo(n,function(n,e,o){return!(r=t(n,e,o))});return!!r}function ce(n,t,e){var r=-1,i=Xr(t),a=n?n.length:0,s=hr("number"==typeof a?a:0);for(i||(t=d.createCallback(t,e,3)),Jt(n,function(n,e,o){var a=s[++r]=l();i?a.criteria=Gt(t,function(t){return n[t]}):(a.criteria=u())[0]=t(n,e,o),a.index=r,a.value=n}),a=s.length,s.sort(o);a--;){var p=s[a];s[a]=p.value,i||c(p.criteria),f(p)}return s}function fe(n){return n&&"number"==typeof n.length?s(n):qt(n)}function se(n){for(var t=-1,e=n?n.length:0,r=[];++t<e;){var o=n[t];o&&r.push(o)}return r}function pe(n){return Z(n,nt(arguments,!0,!0,1))}function he(n,t,e){var r=-1,o=n?n.length:0;for(t=d.createCallback(t,e,3);++r<o;)if(t(n[r],r,n))return r;return-1}function de(n,t,e){var r=n?n.length:0;for(t=d.createCallback(t,e,3);r--;)if(t(n[r],r,n))return r;return-1}function ge(n,t,e){var r=0,o=n?n.length:0;if("number"!=typeof t&&null!=t){var i=-1;for(t=d.createCallback(t,e,3);++i<o&&t(n[i],i,n);)r++}else if(r=t,null==r||e)return n?n[0]:h;return s(n,0,Qr(Mr(0,r),o))}function ve(n,t,e,r){return"boolean"!=typeof t&&null!=t&&(r=e,e="function"!=typeof t&&r&&r[t]===n?null:t,t=!1),null!=e&&(n=Gt(n,e,r)),nt(n,t)}function me(t,e,r){if("number"==typeof r){var o=t?t.length:0;r=0>r?Mr(0,o+r):r||0}else if(r){var i=Ae(t,e);return t[i]===e?i:-1}return n(t,e,r)}function ye(n,t,e){var r=0,o=n?n.length:0;if("number"!=typeof t&&null!=t){var i=o;for(t=d.createCallback(t,e,3);i--&&t(n[i],i,n);)r++}else r=null==t||e?1:t||r;return s(n,0,Qr(Mr(0,o-r),o))}function be(){for(var e=[],r=-1,o=arguments.length,a=u(),l=lt(),s=l===n,p=u();++r<o;){var h=arguments[r];(Xr(h)||pt(h))&&(e.push(h),a.push(s&&h.length>=y&&i(r?e[r]:p)))}var d=e[0],g=-1,v=d?d.length:0,m=[];n:for(;++g<v;){var b=a[0];if(h=d[g],(b?t(b,h):l(p,h))<0){for(r=o,(b||p).push(h);--r;)if(b=a[r],(b?t(b,h):l(e[r],h))<0)continue n;m.push(h)}}for(;o--;)b=a[o],b&&f(b);return c(a),c(p),m}function we(n,t,e){var r=0,o=n?n.length:0;if("number"!=typeof t&&null!=t){var i=o;for(t=d.createCallback(t,e,3);i--&&t(n[i],i,n);)r++}else if(r=t,null==r||e)return n?n[o-1]:h;return s(n,Mr(0,o-r))}function _e(n,t,e){var r=n?n.length:0;for("number"==typeof e&&(r=(0>e?Mr(0,r+e):Qr(e,r-1))+1);r--;)if(n[r]===t)return r;return-1}function ke(n){for(var t=arguments,e=0,r=t.length,o=n?n.length:0;++e<r;)for(var i=-1,a=t[e];++i<o;)n[i]===a&&(Br.call(n,i--,1),o--);return n}function xe(n,t,e){n=+n||0,e="number"==typeof e?e:+e||1,null==t&&(t=n,n=0);for(var r=-1,o=Mr(0,$r((t-n)/(e||1))),i=hr(o);++r<o;)i[r]=n,n+=e;return i}function Se(n,t,e){var r=-1,o=n?n.length:0,i=[];for(t=d.createCallback(t,e,3);++r<o;){var a=n[r];t(a,r,n)&&(i.push(a),Br.call(n,r--,1),o--)}return i}function Ce(n,t,e){if("number"!=typeof t&&null!=t){var r=0,o=-1,i=n?n.length:0;for(t=d.createCallback(t,e,3);++o<i&&t(n[o],o,n);)r++}else r=null==t||e?1:Mr(0,t);return s(n,r)}function Ae(n,t,e,r){var o=0,i=n?n.length:o;for(e=e?d.createCallback(e,r,1):Xe,t=e(t);i>o;){var a=o+i>>>1;e(n[a])<t?o=a+1:i=a}return o}function je(){return ot(nt(arguments,!0,!0))}function $e(n,t,e,r){return"boolean"!=typeof t&&null!=t&&(r=e,e="function"!=typeof t&&r&&r[t]===n?null:t,t=!1),null!=e&&(e=d.createCallback(e,r,3)),ot(n,t,e)}function ze(n){return Z(n,s(arguments,1))}function Oe(){for(var n=-1,t=arguments.length;++n<t;){var e=arguments[n];if(Xr(e)||pt(e))var r=r?ot(Z(r,e).concat(Z(e,r))):e}return r||[]}function Ee(){for(var n=arguments.length>1?arguments:arguments[0],t=-1,e=n?ne(po(n,"length")):0,r=hr(0>e?0:e);++t<e;)r[t]=po(n,t);return r}function Ie(n,t){var e=-1,r=n?n.length:0,o={};for(t||!r||Xr(n[0])||(t=[]);++e<r;){var i=n[e];t?o[i]=t[e]:i&&(o[i[0]]=i[1])}return o}function Te(n,t){if(!zt(t))throw new kr;return function(){return--n<1?t.apply(this,arguments):void 0}}function Re(n,t){return arguments.length>2?at(n,17,s(arguments,2),null,t):at(n,1,null,null,t)}function We(n){for(var t=arguments.length>1?nt(arguments,!0,!1,1):wt(n),e=-1,r=t.length;++e<r;){var o=t[e];n[o]=at(n[o],1,null,null,n)}return n}function Be(n,t){return arguments.length>2?at(t,19,s(arguments,2),null,n):at(t,3,null,null,n)}function De(){for(var n=arguments,t=n.length;t--;)if(!zt(n[t]))throw new kr;return function(){for(var t=arguments,e=n.length;e--;)t=[n[e].apply(this,t)];return t[0]}}function Fe(n,t){return t="number"==typeof t?t:+t||n.length,at(n,4,null,null,null,t)}function Ne(n,t,e){var r,o,i,a,u,l,c,f=0,s=!1,p=!0;if(!zt(n))throw new kr;if(t=Mr(0,t)||0,e===!0){var d=!0;p=!1}else Ot(e)&&(d=e.leading,s="maxWait"in e&&(Mr(t,e.maxWait)||0),p="trailing"in e?e.trailing:p);var g=function(){var e=t-(go()-a);if(0>=e){o&&zr(o);var s=c;o=l=c=h,s&&(f=go(),i=n.apply(u,r),l||o||(r=u=null))}else l=Wr(g,e)},v=function(){l&&zr(l),o=l=c=h,(p||s!==t)&&(f=go(),i=n.apply(u,r),l||o||(r=u=null))};return function(){if(r=arguments,a=go(),u=this,c=p&&(l||!d),s===!1)var e=d&&!l;else{o||d||(f=a);var h=s-(a-f),m=0>=h;m?(o&&(o=zr(o)),f=a,i=n.apply(u,r)):o||(o=Wr(v,h))}return m&&l?l=zr(l):l||t===s||(l=Wr(g,t)),e&&(m=!0,i=n.apply(u,r)),!m||l||o||(r=u=null),i}}function Le(n){if(!zt(n))throw new kr;var t=s(arguments,1);return Wr(function(){n.apply(h,t)},1)}function Pe(n,t){if(!zt(n))throw new kr;var e=s(arguments,2);return Wr(function(){n.apply(h,e)},t)}function He(n,t){if(!zt(n))throw new kr;var e=function(){var r=e.cache,o=t?t.apply(this,arguments):m+arguments[0];return Tr.call(r,o)?r[o]:r[o]=n.apply(this,arguments)};return e.cache={},e}function qe(n){var t,e;if(!zt(n))throw new kr;return function(){return t?e:(t=!0,e=n.apply(this,arguments),n=null,e)}}function Me(n){return at(n,16,s(arguments,1))}function Qe(n){return at(n,32,null,s(arguments,1))}function Ue(n,t,e){var r=!0,o=!0;if(!zt(n))throw new kr;return e===!1?r=!1:Ot(e)&&(r="leading"in e?e.leading:r,o="trailing"in e?e.trailing:o),M.leading=r,M.maxWait=t,M.trailing=o,Ne(n,t,M)}function Ve(n,t){return at(t,16,[n])}function Ke(n){return function(){return n}}function Ye(n,t,e){var r=typeof n;if(null==n||"function"==r)return J(n,t,e);if("object"!=r)return tr(n);var o=Gr(n),i=o[0],a=n[i];return 1!=o.length||a!==a||Ot(a)?function(t){for(var e=o.length,r=!1;e--&&(r=tt(t[o[e]],n[o[e]],null,!0)););return r}:function(n){var t=n[i];return a===t&&(0!==a||1/a==1/t)}}function Je(n){return null==n?"":_r(n).replace(ro,ut)}function Xe(n){return n}function Ze(n,t,e){var r=!0,o=t&&wt(t);t&&(e||o.length)||(null==e&&(e=t),i=g,t=n,n=d,o=wt(t)),e===!1?r=!1:Ot(e)&&"chain"in e&&(r=e.chain);var i=n,a=zt(i);Jt(o,function(e){var o=n[e]=t[e];a&&(i.prototype[e]=function(){var t=this.__chain__,e=this.__wrapped__,a=[e];Rr.apply(a,arguments);var u=o.apply(n,a);if(r||t){if(e===u&&Ot(u))return this;u=new i(u),u.__chain__=t}return u})})}function Ge(){return e._=Cr,this}function nr(){}function tr(n){return function(t){return t[n]}}function er(n,t,e){var r=null==n,o=null==t;if(null==e&&("boolean"==typeof n&&o?(e=n,n=1):o||"boolean"!=typeof t||(e=t,o=!0)),r&&o&&(t=1),n=+n||0,o?(t=n,n=0):t=+t||0,e||n%1||t%1){var i=Vr();return Qr(n+i*(t-n+parseFloat("1e-"+((i+"").length-1))),t)}return rt(n,t)}function rr(n,t){if(n){var e=n[t];return zt(e)?n[t]():e}}function or(n,t,e){var r=d.templateSettings;n=_r(n||""),e=io({},e,r);var o,i=io({},e.imports,r.imports),u=Gr(i),l=qt(i),c=0,f=e.interpolate||z,s="__p += '",p=wr((e.escape||z).source+"|"+f.source+"|"+(f===j?S:z).source+"|"+(e.evaluate||z).source+"|$","g");n.replace(p,function(t,e,r,i,u,l){return r||(r=i),s+=n.slice(c,l).replace(E,a),e&&(s+="' +\n__e("+e+") +\n'"),u&&(o=!0,s+="';\n"+u+";\n__p += '"),r&&(s+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),s+="';\n";var g=e.variable,v=g;v||(g="obj",s="with ("+g+") {\n"+s+"\n}\n"),s=(o?s.replace(_,""):s).replace(k,"$1").replace(x,"$1;"),s="function("+g+") {\n"+(v?"":g+" || ("+g+" = {});\n")+"var __t, __p = '', __e = _.escape"+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+s+"return __p\n}";var m="\n/*\n//# sourceURL="+(e.sourceURL||"/lodash/template/source["+T++ +"]")+"\n*/";try{var y=vr(u,"return "+s+m).apply(h,l)}catch(b){throw b.source=s,b}return t?y(t):(y.source=s,y)}function ir(n,t,e){n=(n=+n)>-1?n:0;var r=-1,o=hr(n);for(t=J(t,e,1);++r<n;)o[r]=t(r);return o}function ar(n){return null==n?"":_r(n).replace(eo,st)}function ur(n){var t=++v;return _r(null==n?"":n)+t}function lr(n){return n=new g(n),n.__chain__=!0,n}function cr(n,t){return t(n),n}function fr(){return this.__chain__=!0,this}function sr(){return _r(this.__wrapped__)}function pr(){return this.__wrapped__}e=e?G.defaults(K.Object(),e,G.pick(K,I)):K;var hr=e.Array,dr=e.Boolean,gr=e.Date,vr=e.Function,mr=e.Math,yr=e.Number,br=e.Object,wr=e.RegExp,_r=e.String,kr=e.TypeError,xr=[],Sr=br.prototype,Cr=e._,Ar=Sr.toString,jr=wr("^"+_r(Ar).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),$r=mr.ceil,zr=e.clearTimeout,Or=mr.floor,Er=vr.prototype.toString,Ir=ct(Ir=br.getPrototypeOf)&&Ir,Tr=Sr.hasOwnProperty,Rr=xr.push,Wr=e.setTimeout,Br=xr.splice,Dr=xr.unshift,Fr=function(){try{var n={},t=ct(t=br.defineProperty)&&t,e=t(n,n,n)&&t}catch(r){}return e}(),Nr=ct(Nr=br.create)&&Nr,Lr=ct(Lr=hr.isArray)&&Lr,Pr=e.isFinite,Hr=e.isNaN,qr=ct(qr=br.keys)&&qr,Mr=mr.max,Qr=mr.min,Ur=e.parseInt,Vr=mr.random,Kr={};Kr[W]=hr,Kr[B]=dr,Kr[D]=gr,Kr[F]=vr,Kr[L]=br,Kr[N]=yr,Kr[P]=wr,Kr[H]=_r,g.prototype=d.prototype;var Yr=d.support={};Yr.funcDecomp=!ct(e.WinRTError)&&O.test(p),Yr.funcNames="string"==typeof vr.name,d.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:j,variable:"",imports:{_:d}},Nr||(Y=function(){function n(){}return function(t){if(Ot(t)){n.prototype=t;var r=new n;n.prototype=null}return r||e.Object()}}());var Jr=Fr?function(n,t){Q.value=t,Fr(n,"__bindData__",Q)}:nr,Xr=Lr||function(n){return n&&"object"==typeof n&&"number"==typeof n.length&&Ar.call(n)==W||!1},Zr=function(n){var t,e=n,r=[];if(!e)return r;if(!U[typeof n])return r;for(t in e)Tr.call(e,t)&&r.push(t);return r},Gr=qr?function(n){return Ot(n)?qr(n):[]}:Zr,no={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},to=kt(no),eo=wr("("+Gr(to).join("|")+")","g"),ro=wr("["+Gr(no).join("")+"]","g"),oo=function(n,t,e){var r,o=n,i=o;if(!o)return i;var a=arguments,u=0,l="number"==typeof e?2:a.length;if(l>3&&"function"==typeof a[l-2])var c=J(a[--l-1],a[l--],2);else l>2&&"function"==typeof a[l-1]&&(c=a[--l]);for(;++u<l;)if(o=a[u],o&&U[typeof o])for(var f=-1,s=U[typeof o]&&Gr(o),p=s?s.length:0;++f<p;)r=s[f],i[r]=c?c(i[r],o[r]):o[r];return i},io=function(n,t,e){var r,o=n,i=o;if(!o)return i;for(var a=arguments,u=0,l="number"==typeof e?2:a.length;++u<l;)if(o=a[u],o&&U[typeof o])for(var c=-1,f=U[typeof o]&&Gr(o),s=f?f.length:0;++c<s;)r=f[c],"undefined"==typeof i[r]&&(i[r]=o[r]);return i},ao=function(n,t,e){var r,o=n,i=o;if(!o)return i;if(!U[typeof o])return i;t=t&&"undefined"==typeof e?t:J(t,e,3);for(r in o)if(t(o[r],r,n)===!1)return i;return i},uo=function(n,t,e){var r,o=n,i=o;if(!o)return i;if(!U[typeof o])return i;t=t&&"undefined"==typeof e?t:J(t,e,3);for(var a=-1,u=U[typeof o]&&Gr(o),l=u?u.length:0;++a<l;)if(r=u[a],t(o[r],r,n)===!1)return i;return i},lo=Ir?function(n){if(!n||Ar.call(n)!=L)return!1;var t=n.valueOf,e=ct(t)&&(e=Ir(t))&&Ir(e);return e?n==e||Ir(n)==e:ft(n)}:ft,co=it(function(n,t,e){Tr.call(n,e)?n[e]++:n[e]=1}),fo=it(function(n,t,e){(Tr.call(n,e)?n[e]:n[e]=[]).push(t)}),so=it(function(n,t,e){n[e]=t}),po=Gt,ho=Vt,go=ct(go=gr.now)&&go||function(){return(new gr).getTime()},vo=8==Ur(w+"08")?Ur:function(n,t){return Ur(Wt(n)?n.replace($,""):n,t||0)};return d.after=Te,d.assign=oo,d.at=Mt,d.bind=Re,d.bindAll=We,d.bindKey=Be,d.chain=lr,d.compact=se,d.compose=De,d.constant=Ke,d.countBy=co,d.create=gt,d.createCallback=Ye,d.curry=Fe,d.debounce=Ne,d.defaults=io,d.defer=Le,d.delay=Pe,d.difference=pe,d.filter=Vt,d.flatten=ve,d.forEach=Jt,d.forEachRight=Xt,d.forIn=ao,d.forInRight=yt,d.forOwn=uo,d.forOwnRight=bt,d.functions=wt,d.groupBy=fo,d.indexBy=so,d.initial=ye,d.intersection=be,d.invert=kt,d.invoke=Zt,d.keys=Gr,d.map=Gt,d.mapValues=Dt,d.max=ne,d.memoize=He,d.merge=Ft,d.min=te,d.omit=Nt,d.once=qe,d.pairs=Lt,d.partial=Me,d.partialRight=Qe,d.pick=Pt,d.pluck=po,d.property=tr,d.pull=ke,d.range=xe,d.reject=oe,d.remove=Se,d.rest=Ce,d.shuffle=ae,d.sortBy=ce,d.tap=cr,d.throttle=Ue,d.times=ir,d.toArray=fe,d.transform=Ht,d.union=je,d.uniq=$e,d.values=qt,d.where=ho,d.without=ze,d.wrap=Ve,d.xor=Oe,d.zip=Ee,d.zipObject=Ie,d.collect=Gt,d.drop=Ce,d.each=Jt,d.eachRight=Xt,d.extend=oo,d.methods=wt,d.object=Ie,d.select=Vt,d.tail=Ce,d.unique=$e,d.unzip=Ee,Ze(d),d.clone=ht,d.cloneDeep=dt,d.contains=Qt,d.escape=Je,d.every=Ut,d.find=Kt,d.findIndex=he,d.findKey=vt,d.findLast=Yt,d.findLastIndex=de,d.findLastKey=mt,d.has=_t,d.identity=Xe,d.indexOf=me,d.isArguments=pt,d.isArray=Xr,d.isBoolean=xt,d.isDate=St,d.isElement=Ct,d.isEmpty=At,d.isEqual=jt,d.isFinite=$t,d.isFunction=zt,d.isNaN=Et,d.isNull=It,d.isNumber=Tt,d.isObject=Ot,d.isPlainObject=lo,d.isRegExp=Rt,d.isString=Wt,d.isUndefined=Bt,d.lastIndexOf=_e,d.mixin=Ze,d.noConflict=Ge,d.noop=nr,d.now=go,d.parseInt=vo,d.random=er,d.reduce=ee,d.reduceRight=re,d.result=rr,d.runInContext=p,d.size=ue,d.some=le,d.sortedIndex=Ae,d.template=or,d.unescape=ar,d.uniqueId=ur,d.all=Ut,d.any=le,d.detect=Kt,d.findWhere=Kt,d.foldl=ee,d.foldr=re,d.include=Qt,d.inject=ee,Ze(function(){var n={};return uo(d,function(t,e){d.prototype[e]||(n[e]=t)}),n}(),!1),d.first=ge,d.last=we,d.sample=ie,d.take=ge,d.head=ge,uo(d,function(n,t){var e="sample"!==t;d.prototype[t]||(d.prototype[t]=function(t,r){var o=this.__chain__,i=n(this.__wrapped__,t,r);return o||null!=t&&(!r||e&&"function"==typeof t)?new g(i,o):i})}),d.VERSION="2.4.1",d.prototype.chain=fr,d.prototype.toString=sr,d.prototype.value=pr,d.prototype.valueOf=pr,Jt(["join","pop","shift"],function(n){var t=xr[n];d.prototype[n]=function(){var n=this.__chain__,e=t.apply(this.__wrapped__,arguments);return n?new g(e,n):e}}),Jt(["push","reverse","sort","unshift"],function(n){var t=xr[n];d.prototype[n]=function(){return t.apply(this.__wrapped__,arguments),this}}),Jt(["concat","slice","splice"],function(n){var t=xr[n];d.prototype[n]=function(){return new g(t.apply(this.__wrapped__,arguments),this.__chain__)}}),d}var h,d=[],g=[],v=0,m=+new Date+"",y=75,b=40,w=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",_=/\b__p \+= '';/g,k=/\b(__p \+=) '' \+/g,x=/(__e\(.*?\)|\b__t\)) \+\n'';/g,S=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,C=/\w*$/,A=/^\s*function[ \n\r\t]+\w/,j=/<%=([\s\S]+?)%>/g,$=RegExp("^["+w+"]*0+(?=.$)"),z=/($^)/,O=/\bthis\b/,E=/['\n\r\t\u2028\u2029\\]/g,I=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],T=0,R="[object Arguments]",W="[object Array]",B="[object Boolean]",D="[object Date]",F="[object Function]",N="[object Number]",L="[object Object]",P="[object RegExp]",H="[object String]",q={};q[F]=!1,q[R]=q[W]=q[B]=q[D]=q[N]=q[L]=q[P]=q[H]=!0;var M={leading:!1,maxWait:0,trailing:!1},Q={configurable:!1,enumerable:!1,value:null,writable:!1},U={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},V={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},K=U[typeof window]&&window||this,Y=U[typeof exports]&&exports&&!exports.nodeType&&exports,J=U[typeof module]&&module&&!module.nodeType&&module,X=J&&J.exports===Y&&Y,Z=U[typeof global]&&global;!Z||Z.global!==Z&&Z.window!==Z||(K=Z);var G=p();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(K._=G,define(function(){return G})):Y&&J?X?(J.exports=G)._=G:Y._=G:K._=G}).call(this),function(){var n=[].indexOf||function(n){for(var t=0,e=this.length;e>t;t++)if(t in this&&this[t]===n)return t;return-1},t=[].slice;!function(n,t){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(e){return t(e,n)}):t(n.jQuery,n)}(window,function(e,r){var o,i,a,u,l,c,f,s,p,h,d,g,v,m,y,b;return o=e(r),s=n.call(r,"ontouchstart")>=0,u={horizontal:{},vertical:{}},l=1,f={},c="waypoints-context-id",d="resize.waypoints",g="scroll.waypoints",v=1,m="waypoints-waypoint-ids",y="waypoint",b="waypoints",i=function(){function n(n){var t=this;this.$element=n,this.element=n[0],this.didResize=!1,this.didScroll=!1,this.id="context"+l++,this.oldScroll={x:n.scrollLeft(),y:n.scrollTop()},this.waypoints={horizontal:{},vertical:{}},this.element[c]=this.id,f[this.id]=this,n.bind(g,function(){var n;return t.didScroll||s?void 0:(t.didScroll=!0,n=function(){return t.doScroll(),t.didScroll=!1},r.setTimeout(n,e[b].settings.scrollThrottle))}),n.bind(d,function(){var n;return t.didResize?void 0:(t.didResize=!0,n=function(){return e[b]("refresh"),t.didResize=!1},r.setTimeout(n,e[b].settings.resizeThrottle))})}return n.prototype.doScroll=function(){var n,t=this;return n={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!s||n.vertical.oldScroll&&n.vertical.newScroll||e[b]("refresh"),e.each(n,function(n,r){var o,i,a;return a=[],i=r.newScroll>r.oldScroll,o=i?r.forward:r.backward,e.each(t.waypoints[n],function(n,t){var e,o;return r.oldScroll<(e=t.offset)&&e<=r.newScroll?a.push(t):r.newScroll<(o=t.offset)&&o<=r.oldScroll?a.push(t):void 0}),a.sort(function(n,t){return n.offset-t.offset}),i||a.reverse(),e.each(a,function(n,t){return t.options.continuous||n===a.length-1?t.trigger([o]):void 0})}),this.oldScroll={x:n.horizontal.newScroll,y:n.vertical.newScroll}},n.prototype.refresh=function(){var n,t,r,o=this;return r=e.isWindow(this.element),t=this.$element.offset(),this.doScroll(),n={horizontal:{contextOffset:r?0:t.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:t.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?e[b]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},e.each(n,function(n,t){return e.each(o.waypoints[n],function(n,r){var o,i,a,u,l;return o=r.options.offset,a=r.offset,i=e.isWindow(r.element)?0:r.$element.offset()[t.offsetProp],e.isFunction(o)?o=o.apply(r.element):"string"==typeof o&&(o=parseFloat(o),r.options.offset.indexOf("%")>-1&&(o=Math.ceil(t.contextDimension*o/100))),r.offset=i-t.contextOffset+t.contextScroll-o,r.options.onlyOnScroll&&null!=a||!r.enabled?void 0:null!==a&&a<(u=t.oldScroll)&&u<=r.offset?r.trigger([t.backward]):null!==a&&a>(l=t.oldScroll)&&l>=r.offset?r.trigger([t.forward]):null===a&&t.oldScroll>=r.offset?r.trigger([t.forward]):void 0})})},n.prototype.checkEmpty=function(){return e.isEmptyObject(this.waypoints.horizontal)&&e.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([d,g].join(" ")),delete f[this.id]):void 0},n}(),a=function(){function n(n,t,r){var o,i;"bottom-in-view"===r.offset&&(r.offset=function(){var n;return n=e[b]("viewportHeight"),e.isWindow(t.element)||(n=t.$element.height()),n-e(this).outerHeight()
}),this.$element=n,this.element=n[0],this.axis=r.horizontal?"horizontal":"vertical",this.callback=r.handler,this.context=t,this.enabled=r.enabled,this.id="waypoints"+v++,this.offset=null,this.options=r,t.waypoints[this.axis][this.id]=this,u[this.axis][this.id]=this,o=null!=(i=this.element[m])?i:[],o.push(this.id),this.element[m]=o}return n.prototype.trigger=function(n){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,n),this.options.triggerOnce?this.destroy():void 0):void 0},n.prototype.disable=function(){return this.enabled=!1},n.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},n.prototype.destroy=function(){return delete u[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},n.getWaypointsByElement=function(n){var t,r;return(r=n[m])?(t=e.extend({},u.horizontal,u.vertical),e.map(r,function(n){return t[n]})):[]},n}(),h={init:function(n,t){var r;return t=e.extend({},e.fn[y].defaults,t),null==(r=t.handler)&&(t.handler=n),this.each(function(){var n,r,o,u;return n=e(this),o=null!=(u=t.context)?u:e.fn[y].defaults.context,e.isWindow(o)||(o=n.closest(o)),o=e(o),r=f[o[0][c]],r||(r=new i(o)),new a(n,r,t)}),e[b]("refresh"),this},disable:function(){return h._invoke.call(this,"disable")},enable:function(){return h._invoke.call(this,"enable")},destroy:function(){return h._invoke.call(this,"destroy")},prev:function(n,t){return h._traverse.call(this,n,t,function(n,t,e){return t>0?n.push(e[t-1]):void 0})},next:function(n,t){return h._traverse.call(this,n,t,function(n,t,e){return t<e.length-1?n.push(e[t+1]):void 0})},_traverse:function(n,t,o){var i,a;return null==n&&(n="vertical"),null==t&&(t=r),a=p.aggregate(t),i=[],this.each(function(){var t;return t=e.inArray(this,a[n]),o(i,t,a[n])}),this.pushStack(i)},_invoke:function(n){return this.each(function(){var t;return t=a.getWaypointsByElement(this),e.each(t,function(t,e){return e[n](),!0})}),this}},e.fn[y]=function(){var n,r;return r=arguments[0],n=2<=arguments.length?t.call(arguments,1):[],h[r]?h[r].apply(this,n):e.isFunction(r)?h.init.apply(this,arguments):e.isPlainObject(r)?h.init.apply(this,[null,r]):e.error(r?"The "+r+" method does not exist in jQuery Waypoints.":"jQuery Waypoints needs a callback function or handler option.")},e.fn[y].defaults={context:r,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},p={refresh:function(){return e.each(f,function(n,t){return t.refresh()})},viewportHeight:function(){var n;return null!=(n=r.innerHeight)?n:o.height()},aggregate:function(n){var t,r,o;return t=u,n&&(t=null!=(o=f[e(n)[0][c]])?o.waypoints:void 0),t?(r={horizontal:[],vertical:[]},e.each(r,function(n,o){return e.each(t[n],function(n,t){return o.push(t)}),o.sort(function(n,t){return n.offset-t.offset}),r[n]=e.map(o,function(n){return n.element}),r[n]=e.unique(r[n])}),r):[]},above:function(n){return null==n&&(n=r),p._filter(n,"vertical",function(n,t){return t.offset<=n.oldScroll.y})},below:function(n){return null==n&&(n=r),p._filter(n,"vertical",function(n,t){return t.offset>n.oldScroll.y})},left:function(n){return null==n&&(n=r),p._filter(n,"horizontal",function(n,t){return t.offset<=n.oldScroll.x})},right:function(n){return null==n&&(n=r),p._filter(n,"horizontal",function(n,t){return t.offset>n.oldScroll.x})},enable:function(){return p._invoke("enable")},disable:function(){return p._invoke("disable")},destroy:function(){return p._invoke("destroy")},extendFn:function(n,t){return h[n]=t},_invoke:function(n){var t;return t=e.extend({},u.vertical,u.horizontal),e.each(t,function(t,e){return e[n](),!0})},_filter:function(n,t,r){var o,i;return(o=f[e(n)[0][c]])?(i=[],e.each(o.waypoints[t],function(n,t){return r(o,t)?i.push(t):void 0}),i.sort(function(n,t){return n.offset-t.offset}),e.map(i,function(n){return n.element})):[]}},e[b]=function(){var n,e;return e=arguments[0],n=2<=arguments.length?t.call(arguments,1):[],p[e]?p[e].apply(null,n):p.aggregate.call(null,e)},e[b].settings={resizeThrottle:100,scrollThrottle:30},o.on("load.waypoints",function(){return e[b]("refresh")})})}.call(this),function(n,t){"function"==typeof define&&define.amd?define(["angular"],t):n.WaypointModule=t(n.angular)}(this,function(n){var t=function(n){this.$timeout=n};t.prototype.getHandlerSync=function(n,t){var e=this.$timeout;return function(r){var o=n[r];o&&e($.proxy(t,null,o))}};var e={},r=function(n){n.waypoints={},this.$scope=n},o=function(n){var t;return e[n]||(t=n.split("."),1===t.length&&t.unshift("globals"),e[n]={namespace:t.shift(),waypoint:t.join(".")}),e[n]},i=function(n,t){$.each(n,function(t){n[t]=!1}),n[t]=!0};r.prototype.processWaypoint=function(n){var t=this.$scope.waypoints,e=o(n),r=e.namespace;t[r]||(t[r]={}),i(t[r],e.waypoint)};var a=function(n){return{controller:"WaypointController",scope:{up:"@",down:"@",offset:"@",waypoints:"=?zumWaypoint"},link:function(t,e,r,o){var i=$.proxy(o.processWaypoint,o);e.waypoint({handler:n.getHandlerSync(t,i),offset:t.offset||0})}}};return n.module("zumba.angular-waypoints",[]).controller("WaypointController",["$scope",r]).directive("zumWaypoint",["WaypointService",a]).service("WaypointService",["$timeout",t])}),function(n,t,e,r){var o=n(t);n.fn.lazyload=function(i){function a(){var t=0;l.each(function(){var e=n(this);if(!c.skip_invisible||e.is(":visible"))if(n.abovethetop(this,c)||n.leftofbegin(this,c));else if(n.belowthefold(this,c)||n.rightoffold(this,c)){if(++t>c.failure_limit)return!1}else e.trigger("appear"),t=0})}var u,l=this,c={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return i&&(r!==i.failurelimit&&(i.failure_limit=i.failurelimit,delete i.failurelimit),r!==i.effectspeed&&(i.effect_speed=i.effectspeed,delete i.effectspeed),n.extend(c,i)),u=c.container===r||c.container===t?o:n(c.container),0===c.event.indexOf("scroll")&&u.bind(c.event,function(){return a()}),this.each(function(){var t=this,e=n(t);t.loaded=!1,(e.attr("src")===r||e.attr("src")===!1)&&e.is("img")&&e.attr("src",c.placeholder),e.one("appear",function(){if(!this.loaded){if(c.appear){var r=l.length;c.appear.call(t,r,c)}n("<img />").bind("load",function(){var r=e.attr("data-"+c.data_attribute);e.hide(),e.is("img")?e.attr("src",r):e.css("background-image","url('"+r+"')"),e[c.effect](c.effect_speed),t.loaded=!0;var o=n.grep(l,function(n){return!n.loaded});if(l=n(o),c.load){var i=l.length;c.load.call(t,i,c)}}).attr("src",e.attr("data-"+c.data_attribute))}}),0!==c.event.indexOf("scroll")&&e.bind(c.event,function(){t.loaded||e.trigger("appear")})}),o.bind("resize",function(){a()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&o.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&l.each(function(){n(this).trigger("appear")})}),n(e).ready(function(){a()}),this},n.belowthefold=function(e,i){var a;return a=i.container===r||i.container===t?(t.innerHeight?t.innerHeight:o.height())+o.scrollTop():n(i.container).offset().top+n(i.container).height(),a<=n(e).offset().top-i.threshold},n.rightoffold=function(e,i){var a;return a=i.container===r||i.container===t?o.width()+o.scrollLeft():n(i.container).offset().left+n(i.container).width(),a<=n(e).offset().left-i.threshold},n.abovethetop=function(e,i){var a;return a=i.container===r||i.container===t?o.scrollTop():n(i.container).offset().top,a>=n(e).offset().top+i.threshold+n(e).height()},n.leftofbegin=function(e,i){var a;return a=i.container===r||i.container===t?o.scrollLeft():n(i.container).offset().left,a>=n(e).offset().left+i.threshold+n(e).width()},n.inviewport=function(t,e){return!(n.rightoffold(t,e)||n.leftofbegin(t,e)||n.belowthefold(t,e)||n.abovethetop(t,e))},n.extend(n.expr[":"],{"below-the-fold":function(t){return n.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return n.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!n.rightoffold(t,{threshold:0})},"in-viewport":function(t){return n.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return n.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!n.rightoffold(t,{threshold:0})}})}(jQuery,window,document),angular.module("Cartogram.background",[]).directive("cgBackgroundImage",function(){return function(n,t,e){e.$observe("cgBackgroundImage",function(n){t.css({"background-image":"url("+n+")"})})}}),angular.module("Cartogram.dimensions",[]).factory("cgDimensions",function(){return{getViewportHeight:function(){var n=document.documentElement,t=n.clientHeight,e=window.innerHeight;return e>t?e:t}}}),angular.module("Cartogram.fill",["Cartogram.dimensions"]).directive("cgFillViewPort",["cgDimensions",function(n){return{restrict:"A",link:function(t,e){var r=function(){e.height(n.getViewportHeight())};$(window).resize(_.throttle(r,400)),e.height(n.getViewportHeight())}}}]),angular.module("Cartogram.events",[]).provider("Modernizr",function(){this.$get=function(){return Modernizr||{}}}).factory("cgEvents",["Modernizr",function(n){return{buttonPressedEvent:function(){return n.touch?"touchstart":"click"}}}]),angular.module("Cartogram.toggle",["Cartogram.events"]).directive("cgToggle",["cgEvents",function(n){return{restrict:"A",link:function(t,e,r){var o=$("html"),i=$(r.off)||!1,a=r.state||"state-nav-is-shown",u=function(){o.hasClass(a)?(o.removeClass(a),i&&i.off(n.buttonPressedEvent())):(o.addClass(a),i&&i.on(n.buttonPressedEvent(),function(){u()}))};e.on(n.buttonPressedEvent(),function(n){u(),n.preventDefault()})}}}]),angular.module("Cartogram.scroll",[]).directive("cgScrollOnClick",["cgEvents",function(n){return{restrict:"A",link:function(t,e,r){var o=r.cgScrollOnClick,i=$("body, html");e.on(n.buttonPressedEvent(),function(){var n;n=o?$(o).offset().top:0,i.animate({scrollTop:n},450,"easeInOutExpo")})}}}]),angular.module("Cartogram.loadWatch",[]).run(["$rootScope",function(n){n.$on("$allImagesLoaded",function(){console.log("all images have loaded"),n.imagesReady=!1,$.waypoints("refresh")})}]).directive("cgLoadWatch",["$rootScope","$timeout",function(n,t){return{restrict:"A",link:function(e,r){function o(){n.imageLoadCount++,n.imageLoadCount===n.imageTotal&&(n.imagesReady=!0),e.$emit("$imageLoaded"),console.log("loaded an image"),$.waypoints("refresh")}n.imageLoadCount||(n.imageLoadCount=0),n.imageTotal||(n.imageTotal=0),n.imageTotal++,t(function(){$(r).find("img").lazyload({effect:"fadeIn",effectspeed:500,skip_invisible:!1,load:o})},0)},controller:["$scope",function(t){t.$on("$imageLoaded",function(){n.imagesReady&&(console.log("loaded all images"),t.$emit("$allImagesLoaded",t.$index))})}]}}]),angular.module("lat.cart",[]).run(["$rootScope",function(n){n.$on("cartChanged",function(t,e){n.cartCount=e.item_count})}]).controller("latCartCtrl",["$scope","cartService",function(n,t){function e(t){console.log("applying data",t),n.cart=t,n.isBusy=!1}function r(){console.log("getting cart"),t.getCart().then(function(n){e(n)})}n.$on("cartChanged",function(n,t){e(t)}),n.addItem=function(){t.addItem(n.form.name).then(r,function(n){console.warn(n)})},r(),n.cart="",n.isBusy=!0}]).service("cartService",["$http","$q",function(n,t){function e(t,e){var r=n({method:"post",url:"/cart/add.js",params:{action:"add"},data:{quantity:e,id:t}});return r.then(u,a)}function r(t,e){var r=n({method:"post",url:"/cart/update.js",data:{quantity:e,id:t}});return r.then(u,a)}function o(t,e){var r=n({method:"post",url:"/cart/change.js",data:{quantity:e,id:t}});return r.then(u,a)}function i(){var t=n({method:"get",url:"/cart.js"});return t.then(u,a)}function a(n){return t.reject(angular.isObject(n.data)&&n.data.message?n.data.message:"An unknown error occured.")}function u(n){return n.data}return{addItem:e,getCart:i,updateItem:r,changeItem:o}}]).directive("latCartAdjust",["cartService",function(n){return{restrict:"A",scope:{quantity:"="},controller:["$scope","$element",function(n){this.prepBroadcast=function(t){n.$emit("cartChanged",t)}}],link:function(t,e,r,o){var i,a=r.action,u=parseInt(r.id),l=t.quantity;e.on("click",function(){i="add"==a?l+1:l-1,n.changeItem(u,i).then(function(n){o.prepBroadcast(n)})})}}}]).filter("shopifyFormatMoney",function(){return function(n){return Shopify.formatMoney(n)}}).filter("shopifyResizeImageSmall",function(){return function(n){return Shopify.resizeImage(n,"small")}}).filter("shopifyResizeImageMedium",function(){return function(n){return Shopify.resizeImage(n,"medium")}}).directive("bowAddToCart",["cartService",function(){return{restrict:"A",controller:["$scope","$element",function(n){this.prepBroadcast=function(t){n.$emit("messageAdded",t)}}],link:function(n,t,e){console.log("add to cart button"),t.on("click",function(n){var t=e.formId;Shopify.addItemFromForm(t),n.preventDefault()})}}}]).directive("bowMiniCart",["cartService",function(){return{restrict:"A",link:function(n,t,e){var r=e.cartCount;n.cartCount=r,console.log(r)}}}]),angular.module("sim",["Cartogram.dimensions","Cartogram.events","Cartogram.fill","Cartogram.background","Cartogram.toggle","Cartogram.loadWatch","lat.cart","zumba.angular-waypoints"]).config(["$interpolateProvider",function(n){n.startSymbol("{[{").endSymbol("}]}")}]).directive("simSwiper",[function(){return{restrict:"A",link:function(n,t){var e,r=t.parent();e=t.swiper({keyboardControl:!0,calculateHeight:!0,simulateTouch:!0,grabCursor:!0,autoplayDisableOnInteraction:!0,autoplay:5e3,onSlideChangeStart:function(n){var t=n.activeIndex+1,e=n.slides.length;t===e?r.addClass("on-last"):r.removeClass("on-last"),1===t?r.addClass("on-first"):r.removeClass("on-first")}}),r.find(".js-swiper--prev").on("click",function(n){n.preventDefault(),e.swipePrev()}),r.find(".js-swiper--next").on("click",function(n){n.preventDefault(),e.swipeNext()})}}}]).directive("bowFilter",[function(){return{restrict:"A",link:function(n,t){var e=t.find("ul li");e.on("click",function(){var n=$(this).data("value");n&&(window.location=n)})}}}]);